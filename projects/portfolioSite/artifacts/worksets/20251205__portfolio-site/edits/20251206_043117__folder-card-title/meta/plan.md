# Plan — Edit 20251206_043117__folder-card-title

## 背景 / 目的
- フォルダアニメーション内のカードでプロジェクトタイトルが見切れるため、カード寸法や余白・オーバーレイを調整し、長いタイトルでも安全に収まるようにする。
- 現行のレイアウトやモーションを崩さず、可読性を確保したカード表示にする。

## 参照 (Fail-Avoid / Success-Reuse)
- Failure 事例: failure-cases への登録なし。3+1 欠落や file-map 未更新を防ぐ。
- Success 事例:
  - 20251205_192700__postcss-explicit-config — 設定を明示し再生成で表示を安定化。今回も意図を明記し副作用を局所化する。
  - Workset 成功ポイント: 20251204_214311__app-hardening — セクション分割とトークン集約を踏襲し、カード寸法の調整も局所的なトークン/定数にまとめる。
  - Workset 成功ポイント: 20251204_230100__app-native-ready — UI 部品を分離して安全に変更。今回も `Folder` コンポーネント内で完結させる。

## agents.md 重要ポイント（抜粋）
- ハードコード絶対禁止：URL/ID/閾値等の環境依存値を直書きしない（今回変更はレイアウト値のみ、必要なら定数化）。
- 各会話＝1修正・3+1 必須：before/after/diff/meta と file-map 更新を同ターンで揃える。
- A/B/C 代替案提示と採用明示。不要変更を避け最小パッチにする。
- 500 行ルールと命名規約順守。カード寸法の変更も可読な定数・クラス指定で管理する。

## 代替案 (A/B/C)
- (A) カードの幅・高さ/パディングを拡大し、オーバーレイの濃度・配置を微調整してテキスト領域を確保する。必要に応じて扇形配置の Y オフセットを合わせる。
  - Pros: レイアウトを保ったまま余白を増やし、長文にも余裕ができる。
  - Cons: サイズ増加によりフォルダ枠との相対バランスを再調整する必要がある。
- (B) フォントサイズや line-clamp を縮小するのみで現サイズ維持。
  - Pros: 変更箇所が少ない。
  - Cons: 可読性低下や多言語時の視認性悪化の可能性がある。
- (C) 高さ固定をやめて自動高さにし、内容量に応じて伸縮させる。
  - Pros: 内容による切れを防げる。
  - Cons: スタック時のトランスフォーム設計が崩れ、アニメーションや重なりが不安定になる。

### 採用案
- **(A) を採用。** 余白を確実に増やしつつ既存のアニメーション構造を維持でき、可読性と安定性を両立しやすいため。

## 影響範囲
- `site/src/components/Folder.tsx` 内のカード寸法・オーバーレイ・配置調整。周辺レイアウト（Work セクションのフォルダ表示）への視覚的影響。

## テスト計画
- ローカル表示確認（開閉/ホバー両状態）でカードのタイトル・タグライン・タグが切れないことを確認。
- フォルダ扇形配置でカードが重なりすぎないことを目視確認（開閉時の transform を含む）。

## ハードコードに関する計画
- 環境依存値の追加はしない。レイアウト値を調整する場合はコンポーネント内の定数にまとめ、環境値・文言は既存の data/config に触れない。

## ロールバック方針
- カード寸法とトランスフォーム値を元の数値に戻し、オーバーレイ変更を差し戻せば復元可能。

## 相談・承認
- status: yes
- approver: user
- time: 2025-12-06T04:32:00Z
- memo: ユーザーより「yes」確認済み。
