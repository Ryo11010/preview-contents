# Plan — Edit 20251205_161200__music-icon-import

## 背景 / 目的
- `npm run dev` プレビュー中に `src/data/projects.ts` で `Music` アイコン未定義により Runtime Error が発生している。FocusZen プロジェクトのアイコン参照を修正し、プレビューを復旧する。

## 参照 (Fail-Avoid / Success-Reuse)
- Failure 事例: /artifacts に未登録のため該当なし（3+1 未整備や file-map 更新漏れに注意）。
- Success 事例:
  - 20251205_142847__app-debt-burndown: 型/定数集中とブラウザガード徹底 → 今回もデータモジュールの依存を明確にし、未定義参照を排除。
  - 20251204_230100__app-native-ready: プラットフォーム依存処理をブリッジ化 → 今回も UI ロジックに副作用を持ち込まず、データのみ修正。
  - 20251204_214311__app-hardening: セクション分割とトークン集約 → データ/アイコン定義を整理し、マジック値追加を避ける。
  - 20251204_211221__folder-interaction: モーション/レイアウトの定数化 → 変更範囲を局所化し、既存トークン・型を尊重。

## agents.md 重要ポイント（抜粋）
- ハードコード絶対禁止: URL/ID/閾値/コピー等をロジックに直書きしない（今回は新規値追加なし）。
- 3+1（before/after/diff/meta）＋ file-map 更新は必須。A/B/C 代替案を提示し採用案を明示。
- 命名規約・500 行ルール順守。既存のデータ/型構造を壊さない。
- No-Plan, No-Code を遵守し、修正後は評価とインデックス更新を行う。

## 代替案 (A/B/C)
- (A) `lucide-react` の import に `Music` を追加し、既存データの参照を解決する。
  - Pros: 変更最小・意図通りのアイコンを維持・リスク低。
  - Cons: ライブラリ更新時の命名変更に依存。
- (B) 既存 import 済みアイコン（例: `Play`）へ差し替え、未定義参照を回避する。
  - Pros: import 追加不要。
  - Cons: デザイン/意味が変わる、要件との乖離。
- (C) 該当プロジェクトの `icon` を削除し、UI 側にフォールバックを任せる。
  - Pros: 依存解消が確実。
  - Cons: UI 崩れ・意図しない表示変化のリスク。

### 採用案
- **(A) を採用。** 本来のデザイン意図を維持しつつ最小変更でエラーを解消するため。

## 影響範囲
- `site/src/data/projects.ts` の import 列挙のみ。UI コンポーネントや他データは変更せず、プレビュー復旧が目的。

## テスト計画
- 最低限: `npm run dev` で再起動し、トップページ表示および FocusZen セクションでエラーモーダルが出ないことを手動確認。
- 時間/環境の都合で自動テスト（lint/型）は未実行の場合、meta/evaluation に未実施理由を明記。

## ハードコードに関する計画
- 新規で環境依存値・URL・コピーは追加しない。既存データの構造を保ち、アイコン import を補うのみ。
- 追加が必要になった場合は `src/data` か `src/config` の既存モジュールに切り出し、ロジック直書きを避ける。

## ロールバック方針
- `projects.ts` を before スナップショットへ戻すか、今回の import 追加を取り消すだけで復旧可能。Workset 単位で差分を隔離する。

## 相談・承認
- status: yes
- approver: user
- time: 2025-12-05T16:12:00Z
- memo: ユーザーより「Aでお願いします」と指定されたため、最小変更で Music アイコンを import する。
