{"ts":"2025-12-07T11:14:06.806Z","caseId":"20251207_150500__work-card-overflow","ref":{"gid":null,"turn":null},"cause":"migrated-from-legacy","prevention":[],"summary":"# Failure Case — 20251207_150500__work-card-overflow\n\n- Issue: Per-card hover z-index prioritization introduced instability (flicker/ordering glitches) in Work folder cards.\n- Action: Reverted hover z-index/state changes to the prior stable behavior while keeping the edge anchor offset improvements.\n- Next: If hover stacking is retried, design a deterministic z-index strategy (e.g., fixed order with pointer enter/leave debouncing) and validate across browsers before rollout.\n","tags":[]}
{"ts":"2025-12-07T18:03:29Z","caseId":"F-20251207_180329__debug-overlay-position-drift","ref":{"gid":"20251205__portfolio-site","turn":"20251207_175524__debug-overlay-copy-fixed"},"cause":"DebugOverlay の UI 要素を段階的に削除・簡素化した際、sectionsWrap/resize の除去とドラッグ無効化ロジックが中途半端に残存し、リレンダリングやタブ切替で position/state の適用順が揺らぎ UI が任意に移動。更に undefined 参照ガード追加後も位置計算が viewport サイズ変化に対して clamp 再適用されるため、ユーザー未操作でもズレが発生。","prevention":["コピー専用化に伴い不要な DOM/ハンドラを完全に削除し、state->DOM 適用を固定高さ/固定座標のみに限定する","位置更新は drag 発火時のみ行い、それ以外の resize/scroll/再描画フックから position を絶対に書き換えない設計にする","テストでタブ切替・リサイズ・スクロール・ページ遷移を網羅し、position が不変であることを E2E で検証する"],"summary":"DebugOverlay をコピー専用・位置固定に簡素化する過程で、ドラッグ無効化や sectionsWrap 削除が中途半端に混在し、applyStateToDom が描画のたびに clamp を実行した結果、タブ切替や再描画でオーバーレイ位置が勝手にズレた。位置固定の期待を満たせず、本体 UI 非干渉要件を満たせないため棄却。","tags":["debug-overlay","ui","position"]}
